<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <title>A4 Portrait</title>
    <style>
        /* Add this to your existing CSS */
        .image-cell {
            position: relative;
            height: 60mm;
            padding: 2px;
        }

        .file-input {
            display: none; /* Hide the file input */
        }

        .image-preview {
            width: 100%;
            height: 100%;
            border: 1px dashed #ccc;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            background-size: contain;
            background-position: center;
            background-repeat: no-repeat;
        }

        .preview-text {
            display: block;
            text-align: center;
            color: #666;
        }
    </style>
</head>
<body>
    <h1 class="heading">3x3 Table Layout</h1>

    <table>
        <tr>
            <th class="col1">Header 1</th>
            <th>Header 2</th>
            <th>Header 3</th>
        </tr>
        <tr>
            <td class="col1">Ceiling</td>
            <td class="image-cell">
                <input type="file" class="file-input" accept="image/*">
                <div class="image-preview">
                    <span class="preview-text">Click to add photo</span>
                </div>
            </td>
            <td>Cell 3</td>
        </tr>
        <tr>
            <td class="col1">Wall Finish</td>
            <td class="image-cell">
                <input type="file" class="file-input" accept="image/*">
                <div class="image-preview">
                    <span class="preview-text">Click to add photo</span>
                </div>
            </td>
            <td>Cell 6</td>
        </tr>
        <tr>
            <td class="col1">Floor Finish</td>
            <td class="image-cell">
                <input type="file" class="file-input" accept="image/*">
                <div class="image-preview">
                    <span class="preview-text">Click to add photo</span>
                </div>
            </td>
            <td>Cell 9</td>
        </tr>
        <tr>
            <td class="col1">Electrical Fittings</td>
            <td class="image-cell">
                <input type="file" class="file-input" accept="image/*">
                <div class="image-preview">
                    <span class="preview-text">Click to add photo</span>
                </div>
            </td>
            <td>Cell 9</td>
        </tr>
    </table>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const imageCells = document.querySelectorAll('.image-cell');

            imageCells.forEach(cell => {
                const fileInput = cell.querySelector('.file-input');
                const preview = cell.querySelector('.image-preview');
                const previewText = preview.querySelector('.preview-text');

                // Click on preview div triggers file input
                preview.addEventListener('click', () => {
                    fileInput.click();
                });

                // Handle file selection
                fileInput.addEventListener('change', function() {
                    const file = this.files[0];
                    if (file) {
                        if (!file.type.startsWith('image/')) {
                            alert('Please select an image file');
                            return;
                        }

                        const reader = new FileReader();
                        reader.onload = function(e) {
                            preview.style.backgroundImage = `url(${e.target.result})`;
                            previewText.style.display = 'none'; // Hide the text
                        };
                        reader.readAsDataURL(file);
                    }
                });
            });
        });
    </script>
</body>
</html>